<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal XII TJKT</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f4f4f9;
        }
        h1 {
            text-align: center;
        }
        .container {
            max-width: 100%;
            margin: auto;
            padding: 10px;
        }
        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .schedule-table th, .schedule-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }
        .schedule-table th {
            background-color: #eee;
        }
        .day-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
        }
        .day-buttons button {
            margin: 5px;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 45%;
            font-size: 14px;
        }
        .day-buttons button:hover {
            background-color: #0056b3;
        }
        #ongoing-class {
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .running-text {
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            background-color: #007bff;
            color: white;
            padding: 10px 0;
            margin-top: 20px;
            text-align: center;
            font-size: 16px;
        }
        .running-text span {
            display: inline-block;
            padding-left: 100%;
            animation: scroll 15s linear infinite;
        }
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        @media (max-width: 768px) {
            .day-buttons button {
                width: 100%;
            }
        }
        #clock {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #333;
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 18px;
            z-index: 999;
        }
    </style>
</head>
<body>
    <div id="clock"></div> <!-- Digital clock for WIB time -->

    <div class="container">
        <h1>Jadwal XII TJKT</h1>

        <div class="day-buttons">
            <button onclick="showSchedule('monday')">Senin</button>
            <button onclick="showSchedule('tuesday')">Selasa</button>
            <button onclick="showSchedule('wednesday')">Rabu</button>
            <button onclick="showSchedule('thursday')">Kamis</button>
            <button onclick="showSchedule('friday')">Jumat</button>
            <button onclick="showTodaySchedule()">Jadwal Hari Ini</button>
        </div>

        <table class="schedule-table" id="schedule">
            <thead>
                <tr>
                    <th>Jam</th>
                    <th>Pelajaran</th>
                    <th>Guru</th>
                </tr>
            </thead>
            <tbody id="schedule-body">
                <!-- Schedule will be loaded here -->
            </tbody>
        </table>

        <div id="ongoing-class"></div>

        <div class="running-text">
            <span id="runningText">Memuat informasi...</span>
        </div>
    </div>

    <script>
        // Schedule data and functions remain unchanged
        const schedule = {
            monday: [
                { time: '7:00 - 7:50', subject: 'Matematika', teacher: 'Nita Rusdianita, S.Pd' },
                { time: '7:50 - 8:30', subject: 'Pendidikan Pancasila', teacher: 'Sugiono, S.Pd' },
                { time: '8:30 - 9:10', subject: 'Teknologi Jaringan Kabel', teacher: 'Indra Gunawan, S.Kom' },
                { time: '9:20 - 10:00', subject: 'Teknologi Nirkabel', teacher: 'Indra Gunawan, S.Kom' },
                { time: '10:00 - 10:45', subject: 'Bimbingan Konseling', teacher: 'Winarsih, S.Pd, MM' },
                { time: '10:45 - 11:15', subject: 'Pendidikan Agama', teacher: 'C / T / S / K' },
            ],
            tuesday: [
                { time: '7:00 - 7:50', subject: 'Bahasa Inggris', teacher: 'Donna Morfini, S.Pd, M.Ikom' },
                { time: '7:50 - 8:30', subject: 'Bahasa Indonesia', teacher: 'Setyorini P, M.Pd' },
                { time: '8:30 - 9:10', subject: 'Pemasangan Perangkat', teacher: 'Encep Andi, S.T' },
                { time: '9:20 - 10:00', subject: 'Konfigurasi Perangkat', teacher: 'Encep Andi, S.T' },
                { time: '10:00 - 10:45', subject: 'Teknologi Jaringan', teacher: 'Indra Gunawan, S.Kom' },
            ],
            wednesday: [
                { time: '7:00 - 7:50', subject: 'Kewirausahaan', teacher: 'Danwayanah, S.S' },
                { time: '7:50 - 8:30', subject: 'Bahasa Inggris', teacher: 'Donna Morfini, S.Pd, M.Ikom' },
                { time: '8:30 - 9:10', subject: 'Sistem Jaringan', teacher: 'Encep Andi, S.T' },
                { time: '9:20 - 10:00', subject: 'Keamanan Jaringan', teacher: 'Encep Andi, S.T' },
            ],
            thursday: [
                { time: '7:00 - 7:50', subject: 'Kewirausahaan', teacher: 'Danwayanah, S.S' },
                { time: '7:50 - 8:30', subject: 'Konfigurasi Perangkat', teacher: 'Encep Andi, S.T' },
                { time: '8:30 - 9:10', subject: 'Sistem Jaringan', teacher: 'Encep Andi, S.T' },
                { time: '9:20 - 10:00', subject: 'Perencanaan Jaringan', teacher: 'Encep Andi, S.T' },
            ],
            friday: [
                { time: '7:00 - 7:50', subject: 'Perencanaan Jaringan', teacher: 'Encep Andi, S.T' },
                { time: '7:50 - 8:30', subject: 'Bahasa Mandarin', teacher: 'Loose Nicholas' },
                { time: '8:30 - 9:10', subject: 'Budi Pekerti', teacher: 'Winarsih, S.Pd, MM' },
            ]
        };

        function showTodaySchedule() {
            const today = new Date().getDay(); // Sunday = 0, Monday = 1, ...
            const dayMapping = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday'];
            if (today >= 1 && today <= 5) {
                showSchedule(dayMapping[today]);
            } else {
                alert('Tidak ada jadwal untuk hari ini!');
            }
        }
        function showSchedule(day) {
            const scheduleBody = document.getElementById('schedule-body');
            scheduleBody.innerHTML = '';

            const daySchedule = schedule[day];
            daySchedule.forEach(item => {
                const row = <tr><td>${item.time}</td><td>${item.subject}</td><td>${item.teacher}</td></tr>;
                scheduleBody.innerHTML += row;
            });
        }
        function updateRunningText() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const day = now.getDay();
            const dayMapping = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday'];

            const runningText = document.getElementById('runningText');

            // Conditions for school time
            if (hours >= 14 && minutes > 30 || hours > 14) {
                runningText.textContent = 'Sekarang sudah lewat jam pulang, sekolah sudah selesai.';
            } else if (hours < 7) {
                runningText.textContent = 'Sekolah belum mulai, akan mulai jam 7:00 pagi.';
            } else if (day >= 1 && day <= 5) {
                const todaySchedule = schedule[dayMapping[day]];
                for (let i = 0; i < todaySchedule.length; i++) {
                    const [startHour, startMinute] = todaySchedule[i].time.split(' - ')[0].split(':').map(Number);
                    const [endHour, endMinute] = todaySchedule[i].time.split(' - ')[1].split(':').map(Number);
                    if (
                        (hours > startHour || (hours === startHour && minutes >= startMinute)) &&
                        (hours < endHour || (hours === endHour && minutes < endMinute))
                    ) {
                        runningText.textContent = Sekarang jam ${hours}:${minutes}, sedang ada pelajaran ${todaySchedule[i].subject} dengan guru ${todaySchedule[i].teacher}, sampai jam ${endHour}:${endMinute}.;
                        break;
                    } else {
                        runningText.textContent = 'Tidak ada pelajaran yang sedang berlangsung.';
                    }
                }
            } else {
                runningText.textContent = 'Sekarang hari libur, tidak ada jadwal sekolah.';
            }
        }

        // Digital clock to display WIB time
        function updateClock() {
            const clockElement = document.getElementById('clock');
            const now = new Date();
            const options = { timeZone: 'Asia/Jakarta', hour: '2-digit', minute: '2-digit', second: '2-digit' };
            const timeString = now.toLocaleTimeString('id-ID', options);
            clockElement.textContent = `WIB: ${timeString}`;
        }

        setInterval(updateClock, 1000); // Update clock every second
        updateClock(); // Initial call to set the time right away

        setInterval(updateRunningText, 10000); // Update every 10 seconds
        updateRunningText(); // Initial call for running text
    </script>
</body>
</html>
