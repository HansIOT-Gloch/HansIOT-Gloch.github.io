<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal XII TJKT</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        h1 {
            text-align: center;
        }
        .container {
            max-width: 100%;
            margin: auto;
            padding: 10px;
        }
        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .schedule-table th, .schedule-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }
        .schedule-table th {
            background-color: #eee;
        }
        .current-class {
            background-color: #ffeb3b;
        }
        .day-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
        }
        .day-buttons button {
            margin: 5px;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 45%;
            font-size: 14px;
        }
        .day-buttons button:hover {
            background-color: #0056b3;
        }
        #ongoing-class {
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .running-text {
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            background-color: #007bff;
            color: white;
            padding: 10px 0;
            margin-top: 20px;
            text-align: center;
            font-size: 16px;
        }
        .running-text span {
            display: inline-block;
            padding-left: 100%;
            animation: scroll 15s linear infinite;
        }
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        @media (max-width: 768px) {
            .day-buttons button {
                width: 100%;
            }
        }
        #clock {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #333;
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 18px;
            z-index: 999;
        }
        .dark-mode {
            background-color: #333;
            color: white;
        }
        .dark-mode #clock {
            background-color: #555;
        }
    </style>
</head>
<body>
    <div id="clock"></div> <!-- Digital clock for WIB time -->

    <div class="container">
        <h1>Jadwal XII TJKT</h1>

        <div class="day-buttons">
            <button onclick="showSchedule('monday')">Senin</button>
            <button onclick="showSchedule('tuesday')">Selasa</button>
            <button onclick="showSchedule('wednesday')">Rabu</button>
            <button onclick="showSchedule('thursday')">Kamis</button>
            <button onclick="showSchedule('friday')">Jumat</button>
            <button onclick="showTodaySchedule()">Jadwal Hari Ini</button>
            <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
        </div>

        <table class="schedule-table" id="schedule">
            <thead>
                <tr>
                    <th>Jam</th>
                    <th>Pelajaran</th>
                    <th>Guru</th>
                </tr>
            </thead>
            <tbody id="schedule-body">
                <!-- Schedule will be loaded here -->
            </tbody>
        </table>

        <div id="ongoing-class"></div>

        <div class="running-text">
            <span id="runningText">Memuat informasi...</span>
        </div>
    </div>

    <script>
        const schedule = {
            "monday": [
                { "time": "7:10 - 9:10", "subject": "Matematika", "teacher": "Nita Rusdianita, S.Pd" },
                { "time": "9:10 - 9:30", "subject": "Istirahat", "teacher": "" },
                { "time": "9:30 - 10:40", "subject": "Pendidikan Pancasila", "teacher": "Sugiono, S.Pd" },
                { "time": "10:40 - 11:50", "subject": "Teknologi Jaringan Kabel", "teacher": "Indra Gunawan, S.Kom" },
                { "time": "11:50 - 12:10", "subject": "Istirahat", "teacher": "" },
                { "time": "12:10 - 13:20", "subject": "Bimbingan Konseling", "teacher": "Winarsih, S.Pd, MM" },
                { "time": "13:20 - 14:30", "subject": "Pendidikan Agama", "teacher": "C / T / S / K" }
            ],
            "tuesday": [
                { "time": "7:10 - 8:30", "subject": "Bahasa Inggris", "teacher": "Donna Morfini, S.Pd, M.Ikom" },
                { "time": "8:30 - 9:30", "subject": "Istirahat", "teacher": "" },
                { "time": "9:30 - 10:40", "subject": "Bahasa Indonesia", "teacher": "Setyorini P, M.Pd" },
                { "time": "10:40 - 12:45", "subject": "Pemasangan Perangkat", "teacher": "Encep Andi, S.T" },
                { "time": "12:45 - 14:30", "subject": "Teknologi Jaringan Kabel Dan Nirkabel", "teacher": "Indra Gunawan, S.Kom" }
            ],
            "wednesday": [
                { "time": "7:10 - 9:10", "subject": "Kewirausahaan", "teacher": "Danwayanah, S.S" },
                { "time": "9:10 - 9:30", "subject": "Istirahat", "teacher": "" },
                { "time": "9:30 - 10:40", "subject": "Bahasa Inggris", "teacher": "Donna Morfini, S.Pd, M.Ikom" },
                { "time": "10:40 - 12:45", "subject": "Administrasi Sistem Jaringan", "teacher": "Encep Andi, S.T" },
                { "time": "12:45 - 14:30", "subject": "Keamanan Jaringan", "teacher": "Encep Andi, S.T" }
            ],
            "thursday": [
                { "time": "7:10 - 8:30", "subject": "Kewirausahaan", "teacher": "Danwayanah, S.S" },
                { "time": "8:30 - 10:40", "subject": "Konfigurasi Perangkat", "teacher": "Encep Andi, S.T" },
                { "time": "10:40 - 12:45", "subject": "Sistem Jaringan", "teacher": "Encep Andi, S.T" },
                { "time": "12:45 - 13:55", "subject": "Perencanaan Jaringan", "teacher": "Encep Andi, S.T" },
                { "time": "13:55 - 14:30", "subject": "Budi Pekerti", "teacher": "Winarsih S.pd MM" }
            ],
            "friday": [
                { "time": "7:10 - 8:30", "subject": "Perencanaan Jaringan", "teacher": "Encep Andi, S.T" },
                { "time": "8:30 - 9:30", "subject": "Istirahat", "teacher": "" },
                { "time": "9:30 - 10:50", "subject": "Bahasa Mandarin", "teacher": "Loose Nicholas" }
            ]
        }

        function showTodaySchedule() {
            const daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];
            const currentDay = new Date().getDay();
            const dayMap = {1: 'monday', 2: 'tuesday', 3: 'wednesday', 4: 'thursday', 5: 'friday'};
            if (currentDay >= 1 && currentDay <= 5) {
                showSchedule(dayMap[currentDay]);
            } else {
                alert("Tidak ada jadwal untuk hari ini (Sabtu/Minggu)");
            }
        }

        function showSchedule(day) {
            const scheduleBody = document.getElementById("schedule-body");
            scheduleBody.innerHTML = "";
            const todaySchedule = schedule[day];

            todaySchedule.forEach(item => {
                const row = document.createElement("tr");
                const timeCell = document.createElement("td");
                timeCell.innerText = item.time;
                const subjectCell = document.createElement("td");
                subjectCell.innerText = item.subject;
                const teacherCell = document.createElement("td");
                teacherCell.innerText = item.teacher;

                row.appendChild(timeCell);
                row.appendChild(subjectCell);
                row.appendChild(teacherCell);
                scheduleBody.appendChild(row);
            });

            highlightOngoingClass(todaySchedule);
        }

        function highlightOngoingClass(todaySchedule) {
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes(); // Current time in minutes

            let ongoingClass = null;
            let nextClass = null;
            todaySchedule.forEach(item => {
                const [start, end] = item.time.split(" - ").map(t => {
                    const [hours, minutes] = t.split(":").map(Number);
                    return hours * 60 + minutes;
                });

                if (currentTime >= start && currentTime < end) {
                    ongoingClass = item;
                } else if (!nextClass && currentTime < start) {
                    nextClass = item;
                }
            });

            if (ongoingClass) {
                document.getElementById("ongoing-class").innerText = `Kelas yang sedang berlangsung: ${ongoingClass.subject} - ${ongoingClass.teacher}`;
            } else if (nextClass) {
                document.getElementById("ongoing-class").innerText = `Kelas berikutnya: ${nextClass.subject} - ${nextClass.teacher} pada ${nextClass.time}`;
            } else {
                document.getElementById("ongoing-class").innerText = "Tidak ada kelas yang sedang berlangsung.";
            }
        }

        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById("clock").innerText = `${hours}:${minutes}:${seconds} WIB`;
        }

        setInterval(updateClock, 1000);
        showTodaySchedule();

        // Running Text Example
        document.getElementById("runningText").innerText = "Selamat Belajar! Jangan lupa istirahat dan jaga kesehatan!";

        // Toggle Dark Mode
        function toggleDarkMode() {
            document.body.classList.toggle("dark-mode");
        }
    </script>
</body>
</html>
